<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1040px" preserveAspectRatio="none" style="width:1746px;height:1040px;background:#F5F5DC;" version="1.1" viewBox="0 0 1746 1040" width="1746px" zoomAndPan="magnify"><defs/><g><rect fill="#F5F5DC" height="1040" style="stroke:none;stroke-width:1.0;" width="1746" x="0" y="0"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="144" x="799.75" y="36.2399">syncDeployment&#23454;&#29616;</text><path d="M272.6875,51.2719 L272.6875,80.0959 L997.6875,80.0959 L997.6875,61.2719 L987.6875,51.2719 L272.6875,51.2719 " fill="#E6E6FA" style="stroke:#8A2BE2;stroke-width:0.5;"/><path d="M987.6875,51.2719 L987.6875,61.2719 L997.6875,61.2719 L987.6875,51.2719 " fill="#E6E6FA" style="stroke:#8A2BE2;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="704" x="278.6875" y="71.3519">syncDeployment()&#26041;&#27861;&#23436;&#25104;&#30340;&#20107;&#24773;&#26159;&#33719;&#21462;&#20174;WorkQueue&#20013;&#20986;&#38431;&#30340;key&#65292;&#26681;&#25454;&#36825;&#20010;key&#26469;sync&#65288;&#21516;&#27493;&#65289;&#23545;&#24212;&#30340;Deployment&#12290;</text><rect fill="#FFB6C1" height="939.0504" style="stroke:#DDA0DD;stroke-width:1.5;" width="1724.5" x="11" y="90.0959"/><path d="M142,90.0959 L142,103.3678 L132,113.3678 L11,113.3678 " fill="none" style="stroke:#DDA0DD;stroke-width:1.5;"/><text fill="#FF69B4" font-family="Comic Sans MS" font-size="14" lengthAdjust="spacing" textLength="121" x="14" y="107.3359">syncDeployment()</text><rect fill="#F0E8F5" height="54.7522" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="368" x="451.1875" y="130.3678"/><text fill="#333333" font-family="Comic Sans MS" font-size="12" lengthAdjust="spacing" textLength="189" x="536.1875" y="154.2879">&#20174;key&#20013;&#20998;&#21106;&#20986;namespace&#21644;name</text><text fill="#333333" font-family="Comic Sans MS" font-size="12" lengthAdjust="spacing" textLength="348" x="461.1875" y="171.6641">namespace, name, err := cache.SplitMetaNamespaceKey(key)</text><rect fill="#F0E8F5" height="54.7522" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="395" x="437.6875" y="205.1201"/><text fill="#333333" font-family="Comic Sans MS" font-size="12" lengthAdjust="spacing" textLength="345" x="474.6875" y="229.0402">&#26681;&#25454;namespace&#21644;name&#20174;cache&#20013;&#26816;&#32034;&#23545;&#24212;&#30340;Deployment&#23545;&#35937;.</text><text fill="#333333" font-family="Comic Sans MS" font-size="12" lengthAdjust="spacing" textLength="375" x="447.6875" y="246.4163">deployment, err := dc.dLister.Deployments(namespace).Get(name)</text><rect fill="#F0E8F5" height="54.7522" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="293" x="488.6875" y="279.8723"/><text fill="#333333" font-family="Comic Sans MS" font-size="12" lengthAdjust="spacing" textLength="273" x="498.6875" y="303.7924">&#20026;&#20102;&#19981;&#25913;&#21160;&#36825;&#20010;cache&#65292;&#36825;&#26159;&#19968;&#20010;ThreadSafeStore</text><text fill="#333333" font-family="Comic Sans MS" font-size="12" lengthAdjust="spacing" textLength="158" x="549.6875" y="321.1685">d := deployment.DeepCopy()</text><rect fill="#F0E8F5" height="37.3761" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="228" x="521.1875" y="354.6246"/><text fill="#333333" font-family="Comic Sans MS" font-size="12" lengthAdjust="spacing" textLength="208" x="531.1875" y="378.5447">everything := metav1.LabelSelector{}</text><polygon fill="#FFDEE3" points="453.1875,412.0007,817.1875,412.0007,829.1875,435.1687,817.1875,458.3368,453.1875,458.3368,441.1875,435.1687,453.1875,412.0007" style="stroke:#FF69B4;stroke-width:0.5;"/><text fill="#FF1493" font-family="Comic Sans MS" font-size="16" lengthAdjust="spacing" textLength="247" x="521.1875" y="430.5607">&#31354;LabelSelector&#20250;&#21305;&#37197;&#25152;&#26377;pod&#12290;</text><text fill="#FF1493" font-family="Comic Sans MS" font-size="16" lengthAdjust="spacing" textLength="360" x="457.1875" y="453.7288">reflect.DeepEqual(d.Spec.Selector, &amp;everything)</text><text fill="#FFD700" font-family="Comic Sans MS" font-size="16" lengthAdjust="spacing" textLength="16" x="425.1875" y="430.5607">&#26159;</text><text fill="#FFD700" font-family="Comic Sans MS" font-size="16" lengthAdjust="spacing" textLength="16" x="829.1875" y="430.5607">&#21542;</text><rect fill="#F0E8F5" height="37.3761" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="273" x="160" y="468.3368"/><text fill="#333333" font-family="Comic Sans MS" font-size="12" lengthAdjust="spacing" textLength="253" x="170" y="492.2569">d.Status.ObservedGeneration = d.Generation</text><rect fill="#F0E8F5" height="54.7522" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="547" x="23" y="540.7129"/><text fill="#333333" font-family="Comic Sans MS" font-size="12" lengthAdjust="spacing" textLength="227" x="156" y="564.633">&#26032;d.Status.ObservedGeneration&#28982;&#21518;&#36820;&#22238;</text><text fill="#333333" font-family="Comic Sans MS" font-size="12" lengthAdjust="spacing" textLength="527" x="33" y="582.0091">dc.client.AppsV1().Deployments(d.Namespace).UpdateStatus(ctx, d, metav1.UpdateOptions{})</text><rect fill="#F0E8F5" height="37.3761" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="72" x="260.5" y="630.4651"/><text fill="#333333" font-family="Comic Sans MS" font-size="12" lengthAdjust="spacing" textLength="52" x="270.5" y="654.3852">return nil</text><rect fill="#F0E8F5" height="72.1284" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="317" x="815.375" y="468.3368"/><text fill="#333333" font-family="Comic Sans MS" font-size="12" lengthAdjust="spacing" textLength="248" x="852.375" y="492.2569">&#33719;&#21462;&#24403;&#21069;Deployment&#25317;&#26377;&#30340;&#25152;&#26377;ReplicaSet&#65292;</text><text fill="#333333" font-family="Comic Sans MS" font-size="12" lengthAdjust="spacing" textLength="232" x="858.375" y="509.633">&#21516;&#26102;&#20250;&#26356;&#26032;&#36825;&#20123;ReplicaSet&#30340;ControllerRef</text><text fill="#333333" font-family="Comic Sans MS" font-size="12" lengthAdjust="spacing" textLength="297" x="825.375" y="527.0091">rsList, err := dc.getReplicaSetsForDeployment(ctx, d)</text><rect fill="#F0E8F5" height="72.1284" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="325" x="811.375" y="575.4651"/><text fill="#333333" font-family="Comic Sans MS" font-size="12" lengthAdjust="spacing" textLength="237" x="857.375" y="599.3852">&#36825;&#20010;map&#26159;map[types.UID][]*v1.Pod&#31867;&#22411;&#65292;</text><text fill="#333333" font-family="Comic Sans MS" font-size="12" lengthAdjust="spacing" textLength="265" x="848.375" y="616.7614">key&#26159;rs&#30340;UID,value &#26159;&#23545;&#24212;rs&#31649;&#29702;&#30340;&#25152;&#26377;Pod&#21015;&#34920;</text><text fill="#333333" font-family="Comic Sans MS" font-size="12" lengthAdjust="spacing" textLength="305" x="821.375" y="634.1375">podMap, err := dc.getPodMapForDeployment(d, rsList)</text><rect fill="#F0E8F5" height="72.1284" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="341" x="803.375" y="682.5935"/><text fill="#333333" font-family="Comic Sans MS" font-size="12" lengthAdjust="spacing" textLength="321" x="813.375" y="706.5136">&#26681;&#25454;d.Spec.Pause&#37197;&#32622;&#30475;&#26159;&#21542;&#26356;&#26032;Deployment&#30340;conditions</text><text fill="#333333" font-family="Comic Sans MS" font-size="12" lengthAdjust="spacing" textLength="317" x="813.375" y="723.8897">(&#26816;&#26597;deployment&#26159;&#21542;&#26159;pause&#29366;&#24577;&#24182;&#28155;&#21152;&#21512;&#36866;&#30340;condition)</text><text fill="#333333" font-family="Comic Sans MS" font-size="12" lengthAdjust="spacing" textLength="189" x="888.375" y="741.2659">dc.checkPausedConditions(ctx, d)</text><rect fill="#F0E8F5" height="37.3761" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="303" x="822.375" y="774.7219"/><text fill="#333333" font-family="Comic Sans MS" font-size="12" lengthAdjust="spacing" textLength="283" x="832.375" y="798.642">scalingEvent, err := dc.isScalingEvent(ctx, d, rsList)</text><polygon fill="#FFDEE3" points="863.875,836.3741,1083.875,836.3741,1095.875,848.3741,1083.875,860.3741,863.875,860.3741,851.875,848.3741,863.875,836.3741" style="stroke:#FF69B4;stroke-width:0.5;"/><text fill="#FF1493" font-family="Comic Sans MS" font-size="16" lengthAdjust="spacing" textLength="220" x="863.875" y="855.3501">d.Spec.Paused || scalingEvent</text><text fill="#FFD700" font-family="Comic Sans MS" font-size="16" lengthAdjust="spacing" textLength="16" x="835.875" y="843.766">&#26159;</text><text fill="#FFD700" font-family="Comic Sans MS" font-size="16" lengthAdjust="spacing" textLength="16" x="1095.875" y="843.766">&#21542;</text><rect fill="#F0E8F5" height="54.7522" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="176" x="600" y="870.3741"/><text fill="#333333" font-family="Comic Sans MS" font-size="12" lengthAdjust="spacing" textLength="148" x="610" y="894.2942">Pause&#25110;scale&#26102;&#30340;&#35843;&#35856;&#36923;&#36753;</text><text fill="#333333" font-family="Comic Sans MS" font-size="12" lengthAdjust="spacing" textLength="156" x="610" y="911.6703">return dc.sync(ctx, d, rsList)</text><polygon fill="#FFDEE3" points="1180.25,870.3741,1339.25,870.3741,1351.25,882.3741,1339.25,894.3741,1180.25,894.3741,1168.25,882.3741,1180.25,870.3741" style="stroke:#FF69B4;stroke-width:0.5;"/><text fill="#FF1493" font-family="Comic Sans MS" font-size="16" lengthAdjust="spacing" textLength="159" x="1180.25" y="889.3501">d.Spec.Strategy.Type</text><rect fill="#F0E8F5" height="37.3761" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="291" x="796" y="979.7702"/><text fill="#333333" font-family="Comic Sans MS" font-size="12" lengthAdjust="spacing" textLength="271" x="806" y="1003.6903">return dc.rolloutRecreate(ctx, d, rsList, podMap)</text><rect fill="#F0E8F5" height="37.3761" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="226" x="1264.5" y="979.7702"/><text fill="#333333" font-family="Comic Sans MS" font-size="12" lengthAdjust="spacing" textLength="206" x="1274.5" y="1003.6903">return dc.rolloutRolling(ctx, d, rsList)</text><line style="stroke:#181818;stroke-width:1.0;" x1="635.1875" x2="635.1875" y1="185.1201" y2="205.1201"/><polygon fill="#181818" points="631.1875,195.1201,635.1875,205.1201,639.1875,195.1201,635.1875,199.1201" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="635.1875" x2="635.1875" y1="259.8723" y2="279.8723"/><polygon fill="#181818" points="631.1875,269.8723,635.1875,279.8723,639.1875,269.8723,635.1875,273.8723" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="635.1875" x2="635.1875" y1="334.6246" y2="354.6246"/><polygon fill="#181818" points="631.1875,344.6246,635.1875,354.6246,639.1875,344.6246,635.1875,348.6246" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="296.5" x2="296.5" y1="505.7129" y2="540.7129"/><polygon fill="#181818" points="292.5,530.7129,296.5,540.7129,300.5,530.7129,296.5,534.7129" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="296.5" x2="296.5" y1="595.4651" y2="630.4651"/><polygon fill="#181818" points="292.5,620.4651,296.5,630.4651,300.5,620.4651,296.5,624.4651" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="973.875" x2="973.875" y1="540.4651" y2="575.4651"/><polygon fill="#181818" points="969.875,565.4651,973.875,575.4651,977.875,565.4651,973.875,569.4651" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="973.875" x2="973.875" y1="647.5935" y2="682.5935"/><polygon fill="#181818" points="969.875,672.5935,973.875,682.5935,977.875,672.5935,973.875,676.5935" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="973.875" x2="973.875" y1="754.7219" y2="774.7219"/><polygon fill="#181818" points="969.875,764.7219,973.875,774.7219,977.875,764.7219,973.875,768.7219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1168.25" x2="941.5" y1="882.3741" y2="882.3741"/><line style="stroke:#181818;stroke-width:1.0;" x1="941.5" x2="941.5" y1="882.3741" y2="979.7702"/><polygon fill="#181818" points="937.5,969.7702,941.5,979.7702,945.5,969.7702,941.5,973.7702" style="stroke:#181818;stroke-width:1.0;"/><text fill="#FFD700" font-family="Comic Sans MS" font-size="16" lengthAdjust="spacing" textLength="64" x="941.5" y="935.1021">&#37325;&#24314;&#31574;&#30053;</text><text fill="#FFD700" font-family="Comic Sans MS" font-size="16" lengthAdjust="spacing" textLength="299" x="945.5" y="958.2702">apps.RecreateDeploymentStrategyType</text><line style="stroke:#181818;stroke-width:1.0;" x1="1351.25" x2="1377.5" y1="882.3741" y2="882.3741"/><line style="stroke:#181818;stroke-width:1.0;" x1="1377.5" x2="1377.5" y1="882.3741" y2="979.7702"/><polygon fill="#181818" points="1373.5,969.7702,1377.5,979.7702,1381.5,969.7702,1377.5,973.7702" style="stroke:#181818;stroke-width:1.0;"/><text fill="#FFD700" font-family="Comic Sans MS" font-size="16" lengthAdjust="spacing" textLength="96" x="1377.5" y="935.1021">&#28378;&#21160;&#26356;&#26032;&#31574;&#30053;</text><text fill="#FFD700" font-family="Comic Sans MS" font-size="16" lengthAdjust="spacing" textLength="342" x="1381.5" y="958.2702">apps.RollingUpdateDeploymentStrategyType</text><line style="stroke:#181818;stroke-width:1.0;" x1="851.875" x2="688" y1="848.3741" y2="848.3741"/><line style="stroke:#181818;stroke-width:1.0;" x1="688" x2="688" y1="848.3741" y2="870.3741"/><polygon fill="#181818" points="684,860.3741,688,870.3741,692,860.3741,688,864.3741" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1095.875" x2="1259.75" y1="848.3741" y2="848.3741"/><line style="stroke:#181818;stroke-width:1.0;" x1="1259.75" x2="1259.75" y1="848.3741" y2="870.3741"/><polygon fill="#181818" points="1255.75,860.3741,1259.75,870.3741,1263.75,860.3741,1259.75,864.3741" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="973.875" x2="973.875" y1="812.098" y2="836.3741"/><polygon fill="#181818" points="969.875,826.3741,973.875,836.3741,977.875,826.3741,973.875,830.3741" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="441.1875" x2="296.5" y1="435.1687" y2="435.1687"/><line style="stroke:#181818;stroke-width:1.0;" x1="296.5" x2="296.5" y1="435.1687" y2="468.3368"/><polygon fill="#181818" points="292.5,458.3368,296.5,468.3368,300.5,458.3368,296.5,462.3368" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="829.1875" x2="973.875" y1="435.1687" y2="435.1687"/><line style="stroke:#181818;stroke-width:1.0;" x1="973.875" x2="973.875" y1="435.1687" y2="468.3368"/><polygon fill="#181818" points="969.875,458.3368,973.875,468.3368,977.875,458.3368,973.875,462.3368" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="635.1875" x2="635.1875" y1="392.0007" y2="412.0007"/><polygon fill="#181818" points="631.1875,402.0007,635.1875,412.0007,639.1875,402.0007,635.1875,406.0007" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="635.1875" x2="635.1875" y1="80.0959" y2="130.3678"/><polygon fill="#181818" points="631.1875,120.3678,635.1875,130.3678,639.1875,120.3678,635.1875,124.3678" style="stroke:#181818;stroke-width:1.0;"/><!--SRC=[dLPRJnj757xthnYfKcLNrjQ4Iwwj1Bv4LHD2ST8-97cOx1vWnNftEpicTGcIcok4Izqs8HHI4beHfPK2f8q86DByc7hNvYb_eMTsxRqO7Aar4lQUcVETxtpdOf-nU4c3JsDKvkg4oaiPbOuoMY2JCOAl0IgFZpAZg2jfGpCO-I2Nofx8zNfd1bE0jUovT2ezuDfpXiwRrkxkRjyqI0j0qaP1bKcUwXOvduzDnMAAIWk6hdGCbyjainx6ELK7tzftSg2dFLWkrzLpyhtnMaTvzLiWNNqYFcNCkDwC7i7A74-b_YEMIHbNkMheJRm8uvxU45wGHtVFSTSwx2NDT63aMAgJ6DcUR9U8f1iS3fDEuIkNQmzzel_OGFROqOZPlcnVhj-jWo4N2w3pZeNepVLcqkAcC9j7AURN91Gya-bFPJATqXdeIujqpdpSx45KJmDYbNGv0wPcb0GXUsErlh3bPXoBdiGJpkAkyzT3UsFEcQxKbs_NghFEhJlEqcPZuRNz_M9jR-4hWur_KOGYr7PUsFUg1qjFyDeubDxjppbFTvtvZSRRdsixVw35-MLTeB_RdxOhSywBzNVxC_RchbrzW0v1o7_ADsE0tUgoYLdZgeurns59OmkxbS_gIbxaGffzxMRkATPEtZqIhrDNkFWZo1U92ARJT-sPFv6lZcrdcLG6-ySvyTbtyG-IxiSa0SR8gK-8JEKnaFAcflBpmEbWwzhdK8eZTk9qE2Zn96WFWZHS62JY_5Qkl_hr21tGr7Yv9lbeYd_YKr5aIJcdMXoO5FXPSJzQGZeBt7qCiwhjL6lLkxMTUUV1hdt_kLSUbmwM39-mkBMTCjekZZ6WIfwEG9uRB536LL9n2VXHaG2OQSCinSEXO09OYO-f-gYuNK2v9hgaS_GQQ7dGG4RKoQdWkZf2uYvs_VTgv59jVzcUspsuC-_Cb9t7CwQXO9DSqGc34N71ZPtzkaYrk8A50LbgEIR9Xm65H8Ae5ebZUWd2nq3tuo9HzEEK5otfmZKBs0GePm6t17KN3QOf1O-dmsvULxcSdSMjzu3KRs_RbON6smVsoce800ieQwgGhzyqhI-xueb88HLfC2Zb9LEX7Bm8SPb_aoHAiYMfTtR15A6ioQb4X2G3NcGwqLKjR1vNDSr_1Cq24hShpnBHx8WtvVQRd-oP-O2PCxkEPS1kzUenZ0UgJFF0iO520EXFY1ZrHzjOGMVb5Meakgsw4dWW20usPuQc0Hk6aP0xiqHlXvjz57ZWQUKC5ffrJv54Mtd4czVW1MfYvV7_PLuomP8kVPQvUldgHoZUaA7KN-xPgxE7s8kTjRJ9B2I9rvCJL2i2GOithMZVMAjNxlew890z_QYnzZo4WhrwdffjIGovnYX_BAQNS3G5Rtyqstg85Yt0CQY_sQW_dXL4AiyyMGCWP2EtDgKLGehZed6Uh0SJstHVsZG5Qlt-jbF-pjxTTbxlsVUVsfNfW_BDC5OY8est0h1xnq0UTsaf_dwsWbg4Cx5agk4KPYVQDfXgvKCdVcVxOeGmn888Iw6G6pT86BVpX2C1ryMPNXGEW3s9sJMsRZMsAWVblSRVFqGkDsS6wOclbCEamdSZazHXbgphAfV7_FN4SIl0Q4cwYAqOlYPJ2-87z-RjlMhznMBzuJh1BKTnDKZ38ECovX0KkWNIZd4gu2wcoYZobczR6ibcSoOwheKc8MTl6Rydl4PhfuKHK7nl__mlRXx0-nHkrrTNF3MZDZLO7S6J-1tX_ZBu5m00]--></g></svg>